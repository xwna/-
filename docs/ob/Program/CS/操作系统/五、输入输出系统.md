## 五、输入输出系统

### 一、概述

#### 1、输入输出系统的发展概况

*   早期-
    分散连接-
    CPU和I/O设备串行工作
*   接口模块和DMA阶段-
    总线连接-
    CPU和I/O设备并行工作，一个总线可以连接多个设备
*   具有通道结构的阶段
*   具有I/O处理机的阶段

#### 2、输入输出系统的组成

*   一、I/O软件-
    1、 I/O指令 CPU指令的一部分-
    2、通道指令 通道自身的指令-
    指出数组的首地址、传送字数、操作命令
*   二、I/O硬件-
    设备 I/O接口-
    设备 设备控制器 通道

#### 3、I/O设备与主机的联系方式

*   一、I/O设备编址方式-
    1、统一编址 用取数、存数指令-
    2、不统一编址 有专用的I/O指令
*   二、设备选址-
    用设备选择电路识别是否被选中
*   三、传送方式-
    1、串行-
    2、并行
*   四、联络方式-
    1、立即响应-
    2、异步工作采用应答信号-
    3、同步工作采用同步时标
*   五、I/O设备与主机的连接方式-
    1、辐射式连接（分散连接）-
    ![](https://image.cubox.pro/article/2022041309585836613/67605.jpg)-
    2、总线连接-
    便于增删设备

#### 4、I/O设备与主机信息传送的控制方式

*   一、程序查询方式-
    ![](https://image.cubox.pro/article/2022041309585838018/11772.jpg)
    
*   二、程序中断方式-
    ![](https://image.cubox.pro/article/2022041309585851852/30936.jpg)
    
    * * *
    
    程序中断方式流程-
    ![](https://image.cubox.pro/article/2022041309585829874/50462.jpg)
    
*   三、DMA方式-
    主存和I/O之间有一条直接数据通道-
    不中断执行-
    周期挪用（周期窃取）-
    ![](https://image.cubox.pro/article/2022041309585752436/81118.jpg)
    

### 二、外部设备

#### 一、概述

![](https://image.cubox.pro/article/2022041309585826127/48920.jpg)-
外部设备大致分三类-
1、人机交互设备-
2、计算机信息存储设备-
3、机-机通信设备 调制解调器等

#### 二、输入设备

*   键盘
*   鼠标
*   触摸屏

#### 三、输出设备

*   显示器-
    1、字符显示-
    2、图形显示-
    3、图像显示
*   打印机-
    1、击打式-
    2、非击打式

#### 四、其他

*   A/D、D/A 模拟/数字（数字/模拟）转换器
*   终端 由键盘和显示器组成
*   汉字处理

#### 五、多媒体设备

### 三、I/O接口

#### 一、概述

为什么要设置接口？-
1、实现设备的选择-
2、实现数据缓冲达到速度匹配-
3、实现数据串——并格式转换-
4、实现电平转换-
5、传送控制命令-
6、反映设备的状态

#### 二、接口的功能和组成

*   总线连接方式的I/O接口电路-
    ![](https://image.cubox.pro/article/2022041309585897758/30501.jpg)
*   功能-
    1、选址功能-
    2、传送命令的功能-
    3、传送数据的功能-
    4、反映设备状态的功能
*   组成-
    1、设备选择电路-
    2、命令寄存器、命令译码器-
    3、数据缓冲寄存器-
    4、设备状态标记
*   I/O接口的基本组成-
    ![](https://image.cubox.pro/article/2022041309585851886/87956.jpg)

#### 三、接口类型

*   1、按数据传送方式分类-
    并行接口-
    串行接口
*   按功能选择的灵活性分类-
    可编程接口-
    不可编程接口
*   按通用性分类-
    通用接口-
    专用接口
*   按数据传送的控制方式分类-
    中断接口-
    DMA接口

#### 四、程序查询方式

*   **程序查询流程**-
    ![](https://image.cubox.pro/article/2022041309585851341/73406.jpg)

* * *

![](https://image.cubox.pro/article/2022041309585765692/67012.jpg)

*   **程序流程**-
    ![](https://image.cubox.pro/article/2022041309585823803/52294.jpg)
*   **程序查询方式的接口电路**-
    ![](https://image.cubox.pro/article/2022041309585730248/43461.jpg)

#### 五、程序中断方式

##### 1、中断的概念

代办

##### 2、I/O中断的产生

代办

##### 3、程序中断方式的接口电路

代办

##### 4、I/O中断处理过程

代办

##### 5、中断服务程序流程

代办

#### 六、DMA方式

##### 1、DMA方式的特点

*   可直接从I/O设备传送到主存
*   DMA与主存交换数据的三种方式
    *   停止CPU访问主存-
        控制简单-
        CPU处于不工作状态或保持状态-
        未充分发挥CPU对主存的利用率
    *   周期挪用（周期窃取）-
        1、 访存周期-
        2、DMA访问主存有三种可能
        *   CPU此时不访存
        *   CPU正在访存
        *   CPU与DMA同时请求访存
    *   DMA与CPU交替访问

##### 2、DMA接口的功能和组成

*   1、DMA接口功能
    *   向CPU申请DMA传送
    *   处理总线控制权的转交
    *   管理系统总线、控制数据传送
    *   确定数据传送的首地址和长度-
        修正传送过程中的数据地址和长度
    *   DMA传送结束时，给出操作完成信号
*   2、DMA接口的组成

##### 3、DMA的工作过程

*   DMA传送过程-
    预处理、数据传送、后处理