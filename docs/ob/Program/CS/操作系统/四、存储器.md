## 四、存储器

### 1、概述

#### 一、存储器分类

*   按存储器介质份分类
    *   半导体存储器（TTL（集成度低、功耗高、速度快）、MOS（功耗低，集成度高））。U盘等；易失
    *   磁表面存储器（磁头、载磁体）。如磁盘、磁带等；非易失
    *   磁芯存储器（硬磁材料、环状元件）；非易失
    *   光盘存储器（激光、磁光材料）；非易失
*   按存取方式分类
    *   存取时间与物理地址无关（随机访问）
        *   随机存储器 在程序的执行过程中可读可写
        *   只读存储器 在程序的执行过程中只读
    *   存取时间与物理地址有关（串行访问）
        *   顺序存取存储器 磁带
        *   直接存取存储器 磁盘
*   在计算机中的作用分类
    *   主存储器
        *   RAM（可读可写）；静态RAM、动态RAM
        *   ROM（只读）；MROM、PROM、EPROM、EEPROM
    *   辅助存储器 磁盘、磁带、光盘
    *   Flash Memory
    *   高速缓冲存储器（Cache）

#### 二、存储器的层次结构

*   存储器三个主要特性的关系-
    速度 容量 价格/位-
    ![](https://image.cubox.pro/article/2022041309585715101/96157.jpg)
    
*   缓存-主存层次和主存-辅存层次-
    缓存用来解决主存与CPU速度差距太大的问题-
    ![](https://image.cubox.pro/article/2022041309585754274/29463.jpg)
    

### 2、主存储器

#### 1、概述

*   **主存的基本组成**-
    ![](https://image.cubox.pro/article/2022041309585756543/69357.jpg)
    
*   **主存与CPU之间的联系**-
    ![](https://image.cubox.pro/article/2022041309585751244/56452.jpg)
    
*   **主存中存储单元地址的分配**-
    ![](https://image.cubox.pro/article/2022041309585787610/12405.jpg)
    
*   **主存的技术指标**
    
    *   存储容量 主存存放二进制代码的总位数
    *   存储速度-
        1、存取时间：存储器的访问时间、读出时间、写入时间-
        2、存取周期：连续两次独立的存储器操作，（读与写）所需的最小间隔时间 ；读周期 写周期
    *   存储器的带宽 位/秒

#### 2、半导体存储芯片简介

*   基本结构-
    ![](https://image.cubox.pro/article/2022041309585750604/26289.jpg)

* * *

![](https://image.cubox.pro/article/2022041309585862410/92173.jpg)

#### 3、随机存取存储器（RAM）

*   静态RAM（SRAM）-
    1、静态RAM基本电路-
    ![](https://image.cubox.pro/article/2022041309585716020/97438.jpg)
*   动态RAM（DRAM）-
    1、动态RAM基本单元电路-
    ![](https://image.cubox.pro/article/2022041309585747339/27746.jpg)
*   动态RAM和静态RAM的比较-
    ![](https://image.cubox.pro/article/2022041309585737024/17393.jpg)

#### 4、只读存储器（ROM）

*   掩模ROM（MROM）-
    行列选择性交叉处有MOS管为“1”-
    行列选择线交叉处无MOS管为“0”
*   PROM（一次性编程）-
    ![](https://image.cubox.pro/article/2022041309585771067/84327.jpg)
*   EPROM（多次性编程）-
    ![](https://image.cubox.pro/article/2022041309585729418/24151.jpg)
*   EEPROM-
    电可擦写-
    局部擦写-
    全部擦写
*   Flash Memory(闪速型存储器)-
    EPROM 价格便宜 集成度高-
    EEPROM 电可擦洗重写-
    比EEPROM快 具备RAM功能

#### 5、存储器与CPU的连接

*   存储容量的扩展-
    用2片1K X 4位的存储芯片组成1K X 8位的存储器
*   子扩展（增加存储子的数量）-
    用2片1K X 8位的存储芯片组成 2K X 8位的存储器；两个芯片不能同时操作
*   字、位扩展-
    用8片 1K X 4位存储芯片组成4K X 8位的存储器

#### 6、存储器的校验

*   编码的最小距离-
    任意两组合法代码之间二进制位数的最少差异-
    编码的纠错、检错能力与编码的最小距离有关

#### 7、提高访存速度的措施

*   采用高速器件
*   采用层次结构 Cache-主存
*   调整主存结构

### 3、高速缓冲存储器

#### 一、概述

避免CPU“空等”现象

##### 二、Cache的工作原理

![](https://image.cubox.pro/article/2022041309585763138/57595.jpg)

##### 三、Cache的基本结构

![](https://image.cubox.pro/article/2022041309585790452/40919.jpg)

##### 四、Cache的读写操作

*   读操作-
    ![](https://image.cubox.pro/article/2022041309585720441/85473.jpg)
*   “**写操作**” Cache和主存的一致性
    *   写直达法（Write-through）-
        写操作时数据既写入cache又写入主存-
        写操作时间就是访问主存的时间，Cache块退出时，不需要对主存执行写操作，更新策略比较容易实现
    *   写回法（Write-back）-
        写操作时只把数据写入Cache而不写入主存，当Cache数据被替换出去时才写回主存-
        写操作时间就是访问Cache的时间，Cache块退出时，被替换的块需写回主存增加了Cache的复杂性

##### 5、Cache的改进

*   1、增加Cache的级数-
    片载（片内）Cache
*   2、统一缓存和分立缓存-
    指令Cache 数据Cache-
    与指令执行的控制方式有关（是否是流水线）

#### Cache-主存的地址映射

*   直接映射（离CPU近就采用这种方式）-
    某一主存块只能固定映射到某一缓存块 不灵活、速度快-
    ![](https://image.cubox.pro/article/2022041309585877942/45642.jpg)
*   全相联映射-
    某一主存块能映射到任一缓存块 成本高、速度低-
    ![](https://image.cubox.pro/article/2022041309585869453/43973.jpg)
*   组相联映射-
    速度快、cache的命中率高-
    ![](https://image.cubox.pro/article/2022041309585756940/22764.jpg)
*   替换算法 （判断哪一个Cache块从Cache中退出）-
    1、先进先出（FIFO）算法-
    2、近期最少使用（LRU）算法

### 4、辅助存储器

#### 一、概述

*   不直接与CPU交换信息
*   磁表面存储技术指标
    *   记录密度
    *   存储容量-
        C = n X k X s
    *   平均寻址时间-
        寻道时间+等待时间
    *   数码传输率
    *   误码率-
        出错信息位数与读出信息的总位数的比值

#### 二、磁记录原理和记录方式

*   磁记录原理-
    ![](https://image.cubox.pro/article/2022041309585884513/32959.jpg)

* * *

![](https://image.cubox.pro/article/2022041309585895044/72693.jpg)

#### 三、硬磁盘存储器

*   硬磁盘存储器的类型
    *   固定磁头和移动磁头
    *   可换盘和固定盘
*   硬磁盘存储器的结构-
    ![](https://image.cubox.pro/article/2022041309585733168/23326.jpg)