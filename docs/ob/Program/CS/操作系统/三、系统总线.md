## 三、系统总线

### 总线的基本概念

*   总线是连接各个部件的信息传输线，是各个部件共享的传输介质。
*   总线上信息的传送的两种方式-
    串行-
    并行
*   总线结构
    *   **单总线结构**-
        ![](https://image.cubox.pro/article/2022041309585738781/18657.jpg)
    *   **双总线结构以CPU为中心**-
        ![](https://image.cubox.pro/article/2022041309585776942/52430.jpg)
    *   **以存储器为中心的双总线结构**-
        ![](https://image.cubox.pro/article/2022041309585881660/75432.jpg)
    *   **三总线结构**-
        ![](https://image.cubox.pro/article/2022041309585782844/94763.jpg)
    *   **三总线结构的另一种形式**-
        ![](https://image.cubox.pro/article/2022041309585771639/90368.jpg)
    *   **四总线结构**-
        ![](https://image.cubox.pro/article/2022041309585765461/46910.jpg)

### 总线的分类

*   片内总线：芯片内部的总线
*   系统总线：计算机各部件之间的信息传输线
    *   数据总线：双向 与机器字长、存储字长有关
    *   地址总线：单向 与存储地址、I/O地址有关，由CPU发出
    *   控制总线：有出 有入，存储器读、存储器写、总线允许、中断确认
*   通信总线
    *   用于计算机系统之间或计算机系统与其他系统（如控制仪表、移动通信等）之间的通信
    *   传输方式：串行通信总线、并行通信总线。

### 总线的特性和性能指标

*   总线物理实现-
    ![](https://image.cubox.pro/article/2022041309585742417/35253.jpg)
*   总线的特性
    *   机械特性-
        尺寸、形状、管脚数、排列顺序
    *   电气特性-
        传输方向和有效的电平范围
    *   功能特性-
        每根传输线的功能：地址、数据、控制
    *   时间特性
*   总线的性能指标
    *   总线宽度-
        数据线的根数
    *   标准传输率-
        每秒传输的最大字节数（MBps）
    *   时钟同步/异步-
        同步、不同步（跟异步的概念不同，有好几种方式不同步）
    *   总线复用-
        地址线与数据线复用。“复用”减少芯片的管脚数
    *   信号线数-
        地址线、数据线和控制线的总和
    *   总线控制方式-
        突发、自动、仲裁、逻辑、计数
    *   其他指标-
        负载能力（可以挂多少个I/O设备）
*   总线标准-
    ![](https://image.cubox.pro/article/2022041309585748188/47309.jpg)

### 总线控制（重点！！！）

*   一、总线判优控制
    *   1、基本概念
        *   主设备 （模块）：对总线有控制权
        *   从设备（模块）：响应从主设备发来的总线命令
    *   2、总线判优控制的两种方式
        *   集中式
            *   链式查询
            *   计数器定时查询
            *   独立请求方式
        *   分布式
*   二、总线通信控制
    *   1、目的-
        解决通信双方协调配合问题
    *   2、总线传输周期-
        主设备到从设备一次完整的可靠的通信周期
        *   申请分配阶段：主模块申请，总线仲裁决定
        *   寻址阶段：主模块向从模块给出地址和命令
        *   传数阶段：主模块和从摸块交换数据
        *   结束阶段：主模块撤销有关信息
    *   3、总线通信的四种方式
        *   同步通信-
            由统一时标控制数据传送
        *   异步通信-
            采用应答方式，没有公共时钟标准
        *   半同步通信-
            同步、异步结合
        *   以上这三种通信的共同点
            *   主模块发地址、命令 占用总线
            *   从模块准备数据 不占用总线 总线空闲
            *   从模块向主模块发数据 占用总线
        *   分离式通信-
            充分挖掘系统总线的每个瞬间的潜力，让系统总线发挥最大效率-
            一个总线传输周期
            *   子周期1 主模块申请占用总线，使用完后既放弃总线的使用权
            *   子周期2 从模块申请占用总线，将各种信息送至总线上